import{T as x,o as r,c as l,b as t,e as y,v as M,u as s,n as u,t as v,d as g,K as C,r as w,x as z,F as _,g as c,y as $,i as j,a as B,O as F,s as f}from"./app-15041f97.js";const S=["onSubmit"],H={class:"mb-2"},P={class:"text-error"},L=t("div",{class:"form-control"},[t("button",{class:"btn btn-sm btn-primary w-full",type:"submit"},"Publish")],-1),N={__name:"PostForm",emits:["post-created"],setup(k,{emit:a}){const e=x({content:""}),d=async()=>{e.post(route("posts.store"),{onSuccess:()=>{a("post-created")}})};return(b,h)=>(r(),l("form",{class:"p-3",onSubmit:g(d,["prevent"])},[t("div",H,[y(t("textarea",{name:"content",onInput:h[0]||(h[0]=p=>s(e).errors.content=null),"onUpdate:modelValue":h[1]||(h[1]=p=>s(e).content=p),placeholder:"What's happen?",class:u([{"textarea-error":s(e).content.length>255||s(e).errors.content},"textarea textarea-bordered resize-none textarea-sm w-full"])},null,34),[[M,s(e).content]]),t("p",P,v(s(e).errors.content),1),t("span",{class:u(["text-gray-500 text-xs",{"text-red-500":s(e).content.length>255}])},v(s(e).content.length)+" / 255",3)]),L],40,S))}},V={class:"h-screen overflow-hidden flex gap-4 md:p-4"},A={class:"card card-bordered w-1/5 hidden md:block p-4"},D={class:"space-y-3"},W=["href"],E={key:0},I=["href"],O={key:1},R=["href"],T={key:0},U=["href"],q={class:""},K=["href"],G={class:"w-full md:w-3/5 overflow-y-scroll rounded"},J={class:"sticky top-0 z-10 backdrop-blur-xl w-full mb-4"},Q={class:"navbar flex justify-between shadow-md rounded-b"},X=["href"],Y=f('<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-logout" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"></path><path d="M9 12h12l-3 -3"></path><path d="M18 15l3 -3"></path></svg>',1),Z=[Y],tt={class:"card card-bordered w-1/5 hidden md:block p-4"},et=t("h2",{class:"text-xl font-bold text-center mb-3"},"Latest authors",-1),ot={class:"space-y-3"},st=["href"],nt={class:"w-full fixed bottom-0 md:hidden"},rt={class:"menu flex justify-between menu-horizontal bg-base-200 rounded-t-box"},lt=["href"],at=f('<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home-2" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M5 12l-2 0l9 -9l9 9l-2 0"></path><path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7"></path><path d="M10 12h4v4h-4z"></path></svg>',1),it=[at],dt={key:0},ht=["href"],ct=f('<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-square-rounded-plus" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M9 12h6"></path><path d="M12 9v6"></path><path d="M12 3c7.2 0 9 1.8 9 9s-1.8 9 -9 9s-9 -1.8 -9 -9s1.8 -9 9 -9z"></path></svg>',1),ut=[ct],pt=["href"],ft=f('<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user-circle" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path><path d="M12 10m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"></path><path d="M6.168 18.849a4 4 0 0 1 3.832 -2.849h4a4 4 0 0 1 3.834 2.855"></path></svg>',1),_t=[ft],vt={class:"flex items-center justify-between w-full"},bt=t("h2",{class:"font-bold text-2xl"},"Make new post",-1),mt=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-x",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),t("path",{d:"M18 6l-12 12"}),t("path",{d:"M6 6l12 12"})],-1),wt=[mt],kt={__name:"DefaultLayout",setup(k){var h,p,m;const a=C(),e=w((m=(p=(h=a.props)==null?void 0:h.auth)==null?void 0:p.user)==null?void 0:m.id);z(()=>{var o,n,i;e.value=(i=(n=(o=a.props)==null?void 0:o.auth)==null?void 0:n.user)==null?void 0:i.id});const d=w(!1),b=()=>{F.post(route("logout"))};return(o,n)=>(r(),l("div",V,[t("aside",A,[t("nav",null,[t("ul",D,[t("li",null,[t("a",{class:u([{"text-primary":s(a).component.startsWith("Feed")},"btn w-full"]),href:o.route("home")},"Home",10,W)]),e.value?(r(),l(_,{key:1},[e.value?(r(),l("li",T,[t("a",{class:u([{"text-primary":s(a).component==="Profile/Edit"},"btn w-full"]),href:o.route("profile.edit")},"Profile",10,U)])):c("",!0),t("li",q,[t("a",{class:u([{"text-primary":s(a).component==="Post/Favourites"},"btn w-full"]),href:o.route("posts.favourites")},"Favourites",10,K)]),t("li",null,[e.value?(r(),l("button",{key:0,onClick:n[0]||(n[0]=i=>d.value=!0),class:"w-full btn btn-primary btn-outline"},"New post ")):c("",!0)])],64)):(r(),l(_,{key:0},[e.value?c("",!0):(r(),l("li",E,[t("a",{class:u([{"text-primary":s(a).component==="Auth/Login"},"btn w-full"]),href:o.route("login")}," Login ",10,I)])),e.value?c("",!0):(r(),l("li",O,[t("a",{class:u([{"text-primary":s(a).component==="Auth/Register"},"btn w-full"]),href:o.route("register")}," Register ",10,R)]))],64))])])]),t("main",G,[t("header",J,[t("nav",Q,[t("a",{href:o.route("home"),class:"btn btn-ghost normal-case text-xl"}," Writty ",8,X),e.value?(r(),l("button",{key:0,onClick:b},Z)):c("",!0)])]),$(o.$slots,"default")]),t("aside",tt,[et,t("ul",ot,[(r(!0),l(_,null,j(s(a).props.latestAuthors,i=>(r(),l("li",null,[t("a",{class:"block font-bold w-full rounded px-2 py-1 text-center bg-base-200",href:o.route("profile.show",{user:i})},"@"+v(i),9,st)]))),256))])]),t("footer",nt,[t("ul",rt,[t("li",null,[t("a",{href:o.route("home")},it,8,lt)]),e.value?(r(),l("li",dt,[t("a",{href:o.route("posts.create")},ut,8,ht)])):c("",!0),t("li",null,[t("a",{href:e.value?o.route("profile.edit"):o.route("login")},_t,8,pt)])])]),d.value?(r(),l("div",{key:0,class:"absolute inset-0 bg-neutral-focus bg-opacity-95 z-20 grid place-items-center",onClick:n[4]||(n[4]=i=>d.value=!1)},[t("div",{onClick:n[3]||(n[3]=g(()=>{},["stop"])),class:"relative h-60 bg-white dark:bg-neutral card card-bordered p-4 rounded w-1/2 max-w-5xl"},[t("div",vt,[bt,t("button",{onClick:n[1]||(n[1]=i=>d.value=!1),class:"btn btn-sm"},wt)]),B(N,{onPostCreated:n[2]||(n[2]=i=>d.value=!1)})])])):c("",!0)]))}};export{kt as _,N as a};
