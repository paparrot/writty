import{r as i,T as g,o as c,c as s,a as p,u as t,w as h,F as d,Z as k,b as o,f as m,e as _,v as f,t as l,d as v,n as w,k as C}from"./app-479178b6.js";import{_ as T}from"./DefaultLayout-e0d066db.js";const V={class:"mb-4 text-sm text-gray-600 dark:text-gray-400"},I=["onSubmit"],U={key:0},B=o("label",{for:"code"},"Code",-1),F={class:"mt-2 text-error"},N={key:1},S=o("label",{for:"recovery_code"}," Recovery Code ",-1),D={class:"mt-2 text-error"},M={class:"flex items-center justify-end mt-4"},P=["onClick"],R=["disabled"],Z={__name:"TwoFactorChallenge",setup(j){const r=i(!1),e=g({code:"",recovery_code:""}),u=i(null),y=i(null),b=async()=>{r.value^=!0,await C(),r.value?(u.value.focus(),e.code=""):(y.value.focus(),e.recovery_code="")},x=()=>{e.post(route("two-factor.login"))};return(z,n)=>(c(),s(d,null,[p(t(k),{title:"Two-factor Confirmation"}),p(T,null,{default:h(()=>[o("div",V,[r.value?(c(),s(d,{key:1},[m(" Please confirm access to your account by entering one of your emergency recovery codes. ")],64)):(c(),s(d,{key:0},[m(" Please confirm access to your account by entering the authentication code provided by your authenticator application. ")],64))]),o("form",{onSubmit:v(x,["prevent"])},[r.value?(c(),s("div",N,[S,_(o("input",{id:"recovery_code",ref_key:"recoveryCodeInput",ref:u,"onUpdate:modelValue":n[1]||(n[1]=a=>t(e).recovery_code=a),type:"text",class:"input input-bordered mt-1 block w-full",autocomplete:"one-time-code"},null,512),[[f,t(e).recovery_code]]),o("p",D,l(t(e).errors.recovery_code),1)])):(c(),s("div",U,[B,_(o("input",{id:"code",ref_key:"codeInput",ref:y,"onUpdate:modelValue":n[0]||(n[0]=a=>t(e).code=a),type:"text",inputmode:"numeric",class:"input input-bordered mt-1 block w-full",autofocus:"",autocomplete:"one-time-code"},null,512),[[f,t(e).code]]),o("p",F,l(t(e).errors.code),1)])),o("div",M,[o("button",{type:"button",class:"btn btn-primary text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 underline cursor-pointer",onClick:v(b,["prevent"])},l(r.value?"Use an authentication code":"Use a recovery code"),9,P),o("button",{class:w(["btn primary-btn ml-4",{"opacity-25":t(e).processing}]),disabled:t(e).processing}," Log in ",10,R)])],40,I)]),_:1})],64))}};export{Z as default};
